

https://www.oschina.net/p/dagger


Dagger是网易杭州研究院QA团队开发的一个轻量级、运行稳定的WebUI自动化测试框架，主要基于Selenium及TestNg可以认为是对Selenium进行二次封装的一个框架（俗称 造轮子 ）。之所以把这个轮子开源出来，主要在于经过了公司内部多个项目的实践，也取得了不错的成效，因此，希望开源以后可以对大家有所帮助及参考。

设计理念

Dagger首先是一个WebUI自动化框架，提供了赖以操纵浏览器的一些API。API数量不多，少于20个，但从实践上，已经基本涵盖95%的应用场景了（其余5%比较 个性 的自动化操作一般是封装在业务逻辑层面，有时候甚至会须要hack）

Dagger其次是一个测试框架，使用TestNg管理和运行用例，TestNg相关断言内嵌于上述API中。因此，在我们的测试用例里面不应该看到单独的TestNg断言的

Dagger还是一种设计风格：简约。无论是Dagger框架本身还是基于Dagger编写的测试用例，都是十分light及straightforward的，以至于会让人感觉有点土。但实践中，这两者确保了低成本、易用性、可维护性

WebUI自动化从业界看，难推进，易烂尾，原因基本在于：维护成本高、运行速度慢、稳定性差

Dagger专注于WebUI自动化，从技术上克服了速度与稳定问题（见下文）。只封装够用的浏览器操作为API，并充分简化/强化这些API，以简约的风格去降低自动化的学习及使用成本。同时，在实践中，我们主要使用Dagger编写冒烟用例、其次是主干用例，少写逻辑复杂功能，不写边边角角功能，让用例也保持清爽（在整个自动化实施过程中，会定期进行用例Review），同样易于后期维护

主要特性

API极少，易于上手，详见这里.

提供比较完备的文档，便于快速入门，详见这里.

支持单机多浏览器并发执行，大大缩短用例执行时间，详见这里

通过修改TestNg源码实现失败用例自动重运行（详见这里）由此几乎消除WebUI自动化中常见的虚假失败

默认使用Chrome浏览器，原因详见这里

失败用例自动截屏

后续工作

加入Flex/Flash自动化支持

如何使用

Dagger十分适合中小型团队从零开始WebUI自动化，这样的话，只须要直接下载整个Dagger代码就行了，Dagger本身都已经配置好了，下载后看一下使用文档就可以直接开始写用例了

也可以把Dagger打成Jar包，导入已有的自动化框架中，详见这里