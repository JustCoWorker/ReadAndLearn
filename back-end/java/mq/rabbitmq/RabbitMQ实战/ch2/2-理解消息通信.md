
# 第2章　理解消息通信

* 本章要点
  * 消息通信概念：消费者、生产者和代理
  * AMQP元素：交换机、队列和绑定
  * 虚拟主机
  * 消息持久化
  * 一条消息历经从生产者到消费者的生命周期
* AMQP
  * 存储离线消费者存储消息
  * 根据标签路由消息
  * 消息没有固定的接口，可以直接存储二进制数据
  * AMQP隐去了消息的发送方和接收方
  * 能以一对多广播，也可以一对一的方式路由

## 2.1　消费者和生产者（这可不是经济学课程哦）

* 快餐车模式
  * 客户端和服务器端
* 消息投递服务
  * RabbitMQ在应用程序和服务器之间扮演着路由器的角色
* 生产者
  * 创建消息，然后发布到代理服务器
  * 消息两部分
    * 有效载荷payload
      * 传输的数据
      * 任何内容
    * 标签label
      * 描述有效载荷，RabbitMQ用它来决定谁将获得消息的拷贝
      * 发后即忘fire-and-forget的单向方式
* 消费者
  * 在消息路由过程中，消息的标签并没有随着有效载荷一同传递

